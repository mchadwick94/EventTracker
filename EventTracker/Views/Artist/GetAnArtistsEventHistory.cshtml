@model IEnumerable<Tracker.Data.tbl_eventlineup>

<h2 class="heading-h2"><b>Upcoming Events</b></h2>
<div class="card" id="profile-table">
    @if (Model.Where(x => x.tbl_events.Event_Date >= System.DateTime.Now).OrderByDescending(x => x.tbl_events.Event_Date).Count() == 0)
    {
    <br />  <br />
    <h3 id="profile-title">No Upcoming Events</h3>
    }
    else
    {
    <table class="table">

        <tr>
            <th>
                Event Name
            </th>
            <th>
                Date
            </th>
        </tr>
        @foreach (var item in Model.Where(x => x.tbl_events.Event_Date >= System.DateTime.Now).OrderByDescending(x => x.tbl_events.Event_Date))
            {

        <tr>
            <td>
                <a href=@Url.Action("GetEventDetails", "Event", new { Event_ID = item.Event_ID })>@Html.DisplayFor(modelItem => item.tbl_events.Event_Name)</a>
            </td>
            <td>
                @Convert.ToString(string.Format("{0:dd/MM/yyyy}", item.tbl_events.Event_Date))
            </td>
        </tr>
            }
    </table>
    }
</div>

<h2 class="heading-h2"><b>Past Events</b></h2>
<div class="card" id="profile-table">

    @if (Model.Where(x => x.tbl_events.Event_Date < System.DateTime.Now).OrderByDescending(x => x.tbl_events.Event_Date).Count() == 0)
        {
        <br /> <br />
        <h3 id="profile-title">No Past Events</h3>
        }
    else
        {
        <table class="table">
            <tr>
                <th>
                    Event Name
                </th>
                <th>
                    Date
                </th>
            </tr>
            @foreach (var item in Model.Where(x => x.tbl_events.Event_Date < System.DateTime.Now).OrderByDescending(x => x.tbl_events.Event_Date))
                {
                <tr>
                    <td>
                        <a href=@Url.Action("GetEventDetails", "Event", new { Event_ID = item.Event_ID })>@Html.DisplayFor(modelItem => item.tbl_events.Event_Name)</a>
                    </td>
                    <td>
                        @Convert.ToString(string.Format("{0:dd/MM/yyyy}", item.tbl_events.Event_Date))
                    </td>
                </tr>
                }
        </table>
        }
</div>

<style>
    #profile-title {
        text-align: center;
    }
</style>